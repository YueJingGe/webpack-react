(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"/FPU":function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){return{status:200,data:r({},e)}}function a(e){return{status:200,data:{mobile:e.mobile,code:"111"}}}function c(e){return{status:200,data:r({},e)}}function u(){return{status:200,data:{A:[{id:"1382",name:"阿里巴巴"},{id:"1394",name:"嗷嗷嗷"}],B:[{id:"1",name:"巴巴"}],F:[{id:"1224",name:"法法"}],G:[{id:"1217",name:"各个"},{id:"1225",name:"嘎嘎"},{id:"1223",name:"规划"},{id:"1219",name:"管理"}],T:[{id:"1229",name:"涛涛"},{id:"1120",name:"同意"},{id:"1231",name:"头发"},{id:"1001",name:"图标"}],W:[{id:"1218",name:"问问"},{id:"1220",name:"挖人"},{id:"1221",name:"无法"},{id:"1222",name:"文档"}],Y:[{id:"1370",name:"应用"},{id:"1226",name:"以及"}],Z:[{id:"1002",name:"组织"}]}}}n.d(t,"d",function(){return i}),n.d(t,"c",function(){return a}),n.d(t,"a",function(){return c}),n.d(t,"b",function(){return u})},Qwtm:function(e,t,n){"use strict";n.r(t);n("MaXC");var r=n("4IMT"),o=n.n(r),i=(n("lSEL"),n("UIqZ")),a=n.n(i),c=(n("nTym"),n("qu0K")),u=n.n(c),s=(n("cUip"),n("iJl9")),l=n.n(s),f=(n("tL+A"),n("QpBz")),m=n.n(f),d=n("q1tI"),p=n.n(d),y=n("Ty5D");function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),v(this,g(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,p.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){this.slideVerification(),this.props.onRef(this)}},{key:"slideVerification",value:function(){var e=this,t=["FFFF0N00000000008FF0",(new Date).getTime(),Math.random()].join(":");new noCaptcha({renderTo:"#your-dom-id",appkey:"FFFF0N00000000008FF0",scene:"nc_register",token:t,customWidth:300,trans:{key1:"code0"},language:"cn",isEnabled:!0,timeout:3e3,times:5,callback:function(t){"pass"==t.value&&e.props.onChange(t)}}).upLang("cn",{_startTEXT:"请按住滑块，拖动到最右边",_yesTEXT:"验证通过",_error300:'哎呀，出错了，点击<a href="javascript:__nc.reset()">刷新</a>再来一次',_errorNetwork:'网络不给力，请<a href="javascript:__nc.reset()">点击刷新</a>'})}},{key:"render",value:function(){return p.a.createElement("div",{id:"your-dom-id",className:"nc-container"})}}])&&h(n.prototype,r),o&&h(n,o),t}(),F=n("cJ7L"),O=n("FY4R"),_=n("/FPU");function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return r=this,o=(e=T(t)).call.apply(e,[this].concat(a)),n=!o||"object"!==j(o)&&"function"!=typeof o?P(r):o,R(P(n),"codeLoginFormRef",p.a.createRef()),R(P(n),"state",{codeText:"获取验证码",showSlide:!1,sending:!1}),R(P(n),"timeEvent",null),R(P(n),"onRef",function(e){n.GV=e}),R(P(n),"onClickCode",function(){var e,t=(e=regeneratorRuntime.mark(function e(t,r){var o,i,a,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(r,n[r]),o=n.state,i=o.sending,a=o.showSlide,c=n[r].current,!i&&a&&(c.setFieldsValue({result:""}),n.GV.slideVerification()),a){e.next=10;break}return c.validateFields([t],function(e,t){}),e.next=8,c.validateFields([t]);case 8:u=e.sent,Object.keys(u)&&n.setState({showSlide:!0,curField:t,curRefForm:c});case 10:case"end":return e.stop()}},e)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){S(i,r,o,a,c,"next",e)}function c(e){S(i,r,o,a,c,"throw",e)}a(void 0)})});return function(e,n){return t.apply(this,arguments)}}()),R(P(n),"onChangeSlide",function(e,t){var r={session_id:e.csessionid,scene:"nc_register",token:e.token,sig:e.sig};try{200===Object(_.d)(r).status&&t&&n.sendSmsCode()}catch(e){var o=e.data;Array.isArray(o)&&o.map(function(e){var t=e||{},r=t.field,o=t.message;n.state.curRefForm.setFields(R({},r,{errors:[new Error(o)]}))})}}),R(P(n),"sendSmsCode",function(){var e={mobile:n.state.curRefForm.getFieldValue(n.state.curField)};try{200===Object(_.c)(e).status&&n.setTimeEvent()}catch(e){n.state.curRefForm.setFieldsValue({result:""}),n.GV.slideVerification()}}),R(P(n),"setTimeEvent",function(){var e=60;n.setState({sending:!0,codeText:"已发送("+e+")"},function(){var t="",r=!0;n.timeEvent=setInterval(function(){t="已发送("+--e+")",0===e&&(clearInterval(n.timeEvent),n.timeEvent=null,t="获取验证码",r=!1),n.setState({sending:r,codeText:t})},1e3)})}),R(P(n),"onFinish",function(e){if(e.result){var t=Object(_.a)(e),r=t.status,o=t.data;200===r&&n.onLoginSuccess(o)}else m.a.error("请先获取验证码，进行滑块验证")}),R(P(n),"onLoginSuccess",function(e){m.a.success("用户".concat(e.username,"登录成功了")),console.log(n.props),n.props.history.push("/layout")}),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(t,p.a.Component),n=t,(r=[{key:"componentWillUnmount",value:function(){clearInterval(this.timeEvent),this.timeEvent=null}},{key:"render",value:function(){var e=this,t=this.state,n=t.codeText,r=t.showSlide;return p.a.createElement("div",{className:"login_form_container"},p.a.createElement(u.a,{ref:this.codeLoginFormRef,name:"normal_login",initialValues:{remember:!0},onFinish:this.onFinish},p.a.createElement(u.a.Item,{name:"username",rules:[{required:!0,message:"请输入手机号!"}]},p.a.createElement(l.a,{prefix:p.a.createElement(F.a,null),placeholder:"请输入手机号"})),p.a.createElement(u.a.Item,{name:"password",rules:[{required:!0,message:"请输入验证码!"}]},p.a.createElement(l.a,{prefix:p.a.createElement(O.a,null),type:"password",placeholder:"请输入验证码",suffix:p.a.createElement("div",{onClick:this.onClickCode.bind(this,"username","codeLoginFormRef")},p.a.createElement(a.a,{type:"vertical"}),p.a.createElement("span",null,n))})),r&&p.a.createElement(u.a.Item,{name:"result",rules:[{required:!0,message:"请先滑动验证!"}]},p.a.createElement(E,{onRef:this.onRef,onChange:function(t){return e.onChangeSlide(t,!0)}})),p.a.createElement(u.a.Item,null,p.a.createElement(o.a,{type:"primary",htmlType:"submit"},"登录"))))}}])&&k(n.prototype,r),i&&k(n,i),t}();t.default=Object(y.f)(x)}}]);